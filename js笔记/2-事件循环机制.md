### 事件循环机制是什么

js 是一门单线程的语言，单线程意味着同一事件只能做一件事，但是并不意味着单线程就是阻塞的，实现单线程非阻塞的方法就是事件循环机制

在 js 中的任务可以分为：

- 同步任务：立即执行的任务，同步任务会进入到主线程中执行
- 异步任务：异步执行的任务，不会立刻执行，比如 ajax 请求，setTimeout 定时函数等

> 同步任务会立即执行，进入到主执行栈，异步任务则是进入到执行队列，当执行栈为空时，会从任务队列中读取任务，送到主执行栈中执行，这个过程不断重复就是事件循环

### 宏任务和微任务

有两种任务队列，分别是宏任务和微任务队列。主执行
栈为空的时候，会首先从微任务队列中取任务，只有微任务队列中为空，才会从宏任务队列中取任务。

常见的微任务：

- Promise.then: 是 then()中的回调函数是微任务
- MutationObserver
- process.nextTick(Node.js)

常见的宏任务：

- setTimeout/setInterval
- sciprt:可以理解为外层的同步代码
- setImmediate、I/O(node.js)
- UI rendering/UI 事件
